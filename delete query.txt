/// delete query 
package jdbc;


import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
public class DeleteQuery {


	 
	    public static void main(String[] args) {
	 
	        try {
	            // Database connection details
	            String URL = "jdbc:mysql://localhost:3306/test_db";
	            String userName = "root";
	            String password = "root";
	 
	            Connection con = DriverManager.getConnection(URL, userName, password);
	            Statement stmt = con.createStatement();
	 
	            // Display record before deletion
	            System.out.println("Before Deletion:");
	            ResultSet resultSet = stmt.executeQuery("SELECT * FROM employees WHERE empno_no = 101");
	            if (resultSet.next()) {
	                System.out.println(resultSet.getInt("empno_no") + "\t | " + resultSet.getString("emp_name") + "\t | " +
	                        resultSet.getFloat("salary") + "\t | " + resultSet.getString("ph_no") + "\t | " +
	                        resultSet.getString("email_id"));
	            } else {
	                System.out.println("No record found with empno_no = 101");
	            }
	 
	            // Delete the record
	            int rowsAffected = stmt.executeUpdate("DELETE FROM employees WHERE empno_no = 101");
	            System.out.println("\nRows deleted: " + rowsAffected);
	 
	            // Try to display the record again
	            System.out.println("\nAfter Deletion:");
	            resultSet = stmt.executeQuery("SELECT * FROM employees WHERE empno_no = 101");
	            if (!resultSet.next()) {
	                System.out.println("Record with empno_no = 101 has been deleted.");
	            }
	 
	            con.close();
	 
	        } catch (SQLException e) {
	            System.out.println("Please check the URL, username, or password to connect to the MySQL database.");
	            e.printStackTrace();
	        }
	    }
	
}
